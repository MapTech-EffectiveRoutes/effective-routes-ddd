"use strict";function r(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}function t(r){return"AsyncFunction"===r.constructor.name}function n(r){return r instanceof o||r instanceof i}function e(r,t,n){var e=!1,u=r.reduce((function(r,n){return r.then((function(){if(e)return null;function r(r){t(r)||(e=!0)}var u="function"==typeof n?n():n;return u instanceof Promise?u.then(r):r(u)}))}),function r(){return{isSync:!0,then:function(t){var n=t();return n instanceof Promise?n:r()}}}());return u.isSync?n():u.then((function(){return n()}))}Object.defineProperty(exports,"__esModule",{value:!0}),function(r){function t(r,t){return new o(r||null,t)}function u(r,t){return new i(r,t)}r.ok=t,r.error=u,r.safe=function(t,e){var o=void 0!==e,i=o?e:t;function c(r){return o?"function"==typeof t?new t(r):t:r}try{var s=i();return s instanceof Promise?s.then((function(t){return n(t)?t:r.ok(t)})).catch((function(r){return u(c(r))})):n(s)?s:r.ok(s)}catch(r){return u(c(r))}},r.combine=function(){for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];if(!u.length)throw new Error("Expected at least 1 argument");var i=[],c=[],s=null;function f(){var n=c.reverse().map((function(t){return r.wrap(t)})),u=null;return e(n,(function(t){return!t.isFailure()||(u=r.error(t.error),!1)}),(function(){return u||t()}))}return e(u,(function(t){return t.isFailure()?(s=r.error(t.error,f),!1):(i.push(t.value),c.push((function(){return t.rollback()})),!0)}),(function(){return s||t(i,f)}))},r.wrap=function(n){return function(){try{var e=n.apply(void 0,arguments);return e instanceof Promise?e.then((function(t){return r.ok(t)})).catch((function(r){return u(r)})):t(e)}catch(r){return u(r)}}}}(exports.Result||(exports.Result={}));var u=function(){function r(r){this.rollbackFn=r}var n=r.prototype;return n.errorOrNull=function(){return this.isSuccess()?null:this.error},n.getOrNull=function(){return this.isFailure()?null:this.value},n.toString=function(){throw new Error("Method not implemented.")},n.inspect=function(){return this.toString()},n.fold=function(r,t){return this.isFailure()?t(this.error):r(this.value)},n.getOrDefault=function(r){return this.isSuccess()?this.value:r},n.getOrElse=function(r){return this.isSuccess()?t(r)?Promise.resolve(this.value):this.value:r(this.error)},n.getOrThrow=function(){if(this.isFailure())throw this.error;return this.value},n.isSuccess=function(){throw new Error("Method not implemented.")},n.isFailure=function(){throw new Error("Method not implemented.")},n.map=function(r){var n=this;return this.isFailure()?t(r)?Promise.resolve(this):this:exports.Result.safe((function(){return r(n.value)}))},n.rollback=function(){return this.rollbackFn?this.rollbackFn():null},r}(),o=function(t){function n(r,n){var e;return(e=t.call(this,n)||this).value=r,e}r(n,t);var e=n.prototype;return e.isSuccess=function(){return!0},e.isFailure=function(){return!1},e.toString=function(){return"Result.Ok("+this.value+")"},e.forward=function(){return exports.Result.ok(this.value)},n}(u),i=function(t){function n(r,n){var e;return(e=t.call(this,n)||this).error=r,e}r(n,t);var e=n.prototype;return e.isSuccess=function(){return!1},e.isFailure=function(){return!0},e.toString=function(){return"Result.Error("+this.error+")"},e.forward=function(){return exports.Result.error(this.error)},n}(u);
//# sourceMappingURL=typescript-result.cjs.production.min.js.map
